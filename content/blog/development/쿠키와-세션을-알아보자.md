---
title: 쿠키와 세션을 알아보자
date: 2021-01-28 18:01:42
category: development
draft: false
---

## 쿠키(cookie)와 세션(session)을 알고 있습니까?

쿠키와 세션을 다루기 전에 HTTP의 특징을 살펴보자

### HTTP(Hypertext Transfer Protocol)

인터넷상에서 데이터를 주고받기 위해 서버/클라이언트 모델을 따르는 통신규약

비연결성(Connectionless)와 비상태성(Stateless)특징이 있습니다.

> 즉, 사용자 요청마다 연결과 해체의 과정을 거치기 때문에 연결 상태가 유지되지 않고, 연결 해제 후에 상태 정보가 저장되지 않는다는 의미입니다.

하지만!

웹페이지에서 로그인하고, 다시 로그인 없이 여러페이지를 사용한 경험이 있는데??

여기서!!

HTTP의 비연결성와 비상태성을 보완하여 서버가 클라이언트를 식별하는

"쿠키"와 "세션"이 등장합니다!!

![img](https://blog.kakaocdn.net/dn/ZQfRh/btqBUAkkVFJ/SvwcSFcUcX4pgwkQHT6ab0/img.png)

### 쿠키(cookie)?

쿠키는 웹사이트에 접속 할 때 생성되는 정보를 담은 임시 파일입니다.

쿠키는 key, value 구조로 String형태를 갖습니다.

> 브라우저마다, 저장되는 쿠키는 다릅니다 즉, 브라우저가 다르면 다른 사용자가 됩니다.

쿠키는 서버를 대신해서 정보를 웹 브라우저에 저장하고요

사용자가 요청할 때 이 정보를 함께 보내서 서버가 사용자를 식별할 수 있게 합니다.

#### 쿠키의 목적은?

1. 세션관리(Session Management) : 로그인, 사용자 닉네임, 접속 시간, 장바구니 등 서버가 알아야할 정보를 저장
2. 개인화(Personalization): 사용자마다 다르게 그사람에게 적절한 페이지를 보여줄 수 있습니다.
3. 트래킹(Tracking): 사용자의 행동과 패턴을 분석하고 기록합니다.

##### 쿠키 사용 예시?

- ID저장, 로그인 상태 유지
- 일주일간 다시보지 않기
- 최근 검색한 상품 광고에서 추천
- 쇼핑몰 장바구니

##### 쿠키의 단점?

1. 방문했던 웹사이트에 개인 정보가 기록되므로, 사생활 침해를 고려한 웹브라우저의 쿠키 거부 기능이 있습니다. 이러한 경우 쿠키의 본래 목적을 수행 할 수 없을 수 있습니다.
2. 서버가 가지고 있는 것이 아니라, 사용자에게 저장되므로, 보안에 취약합니다.

그래서 등장합니다!!

## 세션!

#### 세션의 특징

세션 아이디는 웹 브라우저 당 1개씩 생성되어, 웹 컨테이너에 저장되며 브라우저 종료시 소멸됩니다.

아이디, 닉네임의 경우 세션에 담아두면 요청마다 DB에 접근할 필요 없어서 효율적입니다.

```java
session.setAttribute("id","value") // 세션 속성을 지정!

String id = (String)session.getAttribute("id") // 세션 속성을 사용할 경우
//이경우에는 return 타입이 Object이기 때문에 형변환이 필요합니다.!
```

#### 세줄 요약?

쿠키 : 사용자 편의를 위한 것으로, 보안이 약해 사용자 피해가 없는 수준의 정보를 브라우저에 저장되어 사용되어짐

세션 : 다른 누군가에 노출되면 안되는 중요한 정보는 세션으로 서버에 담아 다뤄집니다. 물론, 세션을 남발할경우 서버에 부담되므로 적절하게 사용해야합니다.

https://devuna.tistory.com/23?category=890707
